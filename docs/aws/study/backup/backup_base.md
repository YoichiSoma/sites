# バックアップについて考える
## ここで言及しないこと
- なぜバックアップをするのか
- AWSでできないことのバックアップ方法
  - ＊考え方や手法項目では軽く説明は入れている
- 各バックアップ手法に対しての具体的な設定方法

---
## 考えるべきこと
1. **どんなデータをバックアップしたいのか？**

   一言に"バックアップ"といっても、まずは何をバックアップするのかを考慮する必要がある。
   大抵はシステム全体やディスク全体という観点で考える事が多いが稼働しているシステムによっては正常に復旧できない可能性がある。
   また全体バックアップだと復旧に不要なデータ(一時キャッシュやTMPファイル、ゴミ箱等)までもバックアップすることにより、容量に無駄が出てくる可能性がある。
   - <img src="https://github.com/YoichiSoma/sites/assets/125415634/8c9fac23-f61f-44a3-ad2e-5cd0b44692a2" width="400">
  - ファイル
    - コード
    - ドキュメント
    - 画像
  - データベース
  - システム
    - OS
    - ミドルウェア
 
2. **停止可否、取得時間**

   システムによっては静止点考慮する必要がある。
   例えば書き込み中やファイルをオープン中にバックアップを行った場合正常に復旧できない可能性もあるためである。
  
  - システム及びミドルウェアの停止可否
  - 停止可否の場合どれだけの時間停止してよいのか？
3. **RPO,RTO**

    バックアップを取得するということは同時に復旧することも考えないといけない。
    提供しているサービスやシステムにもよるが復旧時間によってサービスへの影響も発生するためである。
  
  - RPO
    - RecoveryPointObjective
    - 目標復旧時点
    - どの時点
  - RTO
    - RecoveryTimeObjective
    - 目標復旧時間
    - いつまで
  - <img src="https://github.com/YoichiSoma/sites/assets/125415634/667780af-d9a3-4b85-9143-6af336fecd98" width="400">

3. 復旧粒度

   システムによってはファイルだけ復旧すれば良いものもあれば、全体的に復旧する必要があるものもある。
   また前項のRTOにも関わるが、システム全体を復旧すると時間がかかりすぎるという場合もあるため、粒度も考慮するとよい。

---


   
  - ファイルだけ
  - ミドルウェアに必要なデータ
    - データベース
    - ミドルウェアに必要なファイル
  - システム全体なのか
